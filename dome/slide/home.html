<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=320">
    <meta http-equiv="cleartype" content="on">
    <meta content="telephone=no" name="format-detection">
    <title>滑动</title>
</head>
<style>
    *{
        padding: 0;
        margin: 0;
    }
    .box{
        width: 320px;
        height: 160px;
        position: relative;
        border: #004444 solid 1px;
    }
    #aimg01{
        position: absolute;
        left: 0;
        width: 280px;
        height: 160px;
        top: 0;
        display: block;
        border: #006600 solid 1px;
    }
    #aimg03{
        position: absolute;
        width: 280px;
        height: 160px;
        right: 0;
        top: 0;
        display: block;
        border: #006600 solid 1px;
    }
    #aimg02{
        position: absolute;
        width: 280px;
        height: 160px;
        left: 50%;
        margin-left: -140px;
        top: 0;
        display: block;
        border: #006600 solid 1px;
        z-index: 2;
    }
    img {
        width: 100%;
        height: 100%;
    }
</style>
<body>

<div class="box" id="box">
    <a href="javascript:;" id="aimg01"><img src="" alt=""/></a>
    <a href="javascript:;" id="aimg02"><img src="" alt=""/></a>
    <a href="javascript:;" id="aimg03"><img src="" alt=""/></a>
</div>
<script type='text/javascript' src="http://libs.baidu.com/jquery/1.11.1/jquery.js"></script>
<script>

    var touchStartClientX,touchStartClientY, direction;
    var $box=document.querySelector('#box');
    var imgList = ['img/pic_005.jpg','img/pic_006.jpg','img/pic_007.jpg','img/pic_009.jpg','img/pic_010.jpg','img/pic_011.jpg'];
    $box.addEventListener('touchstart',function(e){
        touchStartClientX= e.touches[0].clientX;
        touchStartClientY=e.touches[0].clientY;
        //console.log(touchStartClientX+','+touchStartClientY);
    })
    $box.addEventListener('touchend',function(e){
        var touchendClientX,touchendClientY;
        touchendClientX= e.changedTouches[0].clientX;
        touchendClientY=e.changedTouches[0].clientY;
        //console.log(touchendClientX+','+touchendClientY);
        var sx=touchendClientX-touchStartClientX;
        var sy=touchendClientY-touchStartClientY;
        direction=Math.abs(sx)>Math.abs(sy)?(sx>0?'right':'left'):(sy>0?'down':'up');
//        alert('direction='+direction);
        slide(direction);
    })
    function slide(d){
        if(d=='left'){
            var first =imgList.shift();
            imgList.push(first);
            draw()
        }else if(d=='right'){
            var last =imgList.pop();
            imgList.unshift(last);
            draw()
        }
    }


    function draw(){
        $('#aimg01 img').attr('src',imgList[0]);
        $('#aimg02 img').attr('src',imgList[1]);
        $('#aimg03 img').attr('src',imgList[2]);
    }
    draw()
</script>
</body>
</html>
