define(["./module"],function(controllers){controllers.controller("homeController",["$scope","getCategory",function($scope,getCategory){function showhometitle(p,id){var categoryDate={page:p,categoryid:id};$("body").prepend(section),getCategory.query(categoryDate).$promise.then(function(data){if(console.log(data),section.remove(),$scope.categoryList=data.items,$scope.categoryid=$(".category.active").data("categoryid"),setinterli("off"),setinterli("on"),$(".main h1").addClass("animate"),"004"===id){var tolpage=parseInt(data.pagenum/10)+1;oPage[id]==tolpage&&$("#next").addClass("dis")}})}function setinterli(s){var step=0;"on"===s?animateli=setInterval(function(){var li=$("#ul-list li");step==li.length&&(step=0),li.removeClass("ani"),li.eq(step).addClass("ani"),step++},3e3):"off"===s&&clearInterval(animateli)}var section=$('<section class="mod model-3"> <div class="spinner"> </div> </section>'),oPage={"001":1,"002":1,"004":1},animateli=null;showhometitle(1,"001"),$("#pre").on("click",function(){var categoryid=$(".category.active").data("categoryid"),page=oPage[categoryid]=--oPage[categoryid];$("#next").removeClass("dis"),1==oPage[categoryid]&&$(".pagination a").eq(0).addClass("dis"),showhometitle(page,categoryid)}),$("#next").on("click",function(){var categoryid=$(".category.active").data("categoryid"),page=oPage[categoryid]=++oPage[categoryid];$(".pagination a").removeClass("dis"),showhometitle(page,categoryid)});var $main=$(".main"),$sidebar=$(".sidebar");$(".menu").on("click",function(e){$main.hasClass("opend")?($main.removeClass("opend"),$sidebar.removeClass("animate")):($main.addClass("opend"),$sidebar.addClass("animate")),e.stopPropagation(),e.preventDefault()}),$main.on("click",function(e){$main.hasClass("opend")&&($main.removeClass("opend"),$sidebar.removeClass("animate"),e.stopPropagation(),e.preventDefault())});var $category=$(".category");$category.on("click",function(){var categoryid=$(this).data("categoryid");$category.removeClass("active"),1==oPage[categoryid],$(".pagination a").eq(0).addClass("dis"),$(this).addClass("active"),showhometitle(1,categoryid),$main.removeClass("opend"),$sidebar.removeClass("animate")});var height=$(window).height();$(".wrapper").css("height",height)}])});