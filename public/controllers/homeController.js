define(["./module"],function(a){a.controller("homeController",["$scope","getCategory",function(a,e){function n(n,t){var r={page:n,categoryid:t};$("body").prepend(o),e.query(r).$promise.then(function(e){if(console.log(e),o.remove(),a.categoryList=e.items,a.categoryid=$(".category.active").data("categoryid"),s("off"),s("on"),$(".main h1").addClass("animate"),"004"===t){var n=parseInt(e.pagenum/10)+1;i[t]==n&&$("#next").addClass("dis")}else $("#next").hasClass("dis")&&$("#next").removeClass("dis")})}function s(a){var e=0;"on"===a?t=setInterval(function(){var a=$("#ul-list li");e==a.length&&(e=0),a.removeClass("ani"),a.eq(e).addClass("ani"),e++},3e3):"off"===a&&clearInterval(t)}var o=$('<section class="mod model-3"> <div class="spinner"> </div> </section>'),i={"001":1,"002":1,"004":1},t=null;n(1,"001"),$("#pre").on("click",function(){var a=$(".category.active").data("categoryid"),e=i[a]=--i[a];$("#next").removeClass("dis"),1==i[a]&&$(".pagination a").eq(0).addClass("dis"),n(e,a)}),$("#next").on("click",function(){var a=$(".category.active").data("categoryid"),e=i[a]=++i[a];$(".pagination a").removeClass("dis"),n(e,a)});var r=$(".main"),d=$(".sidebar");$(".menu").on("click",function(a){r.hasClass("opend")?(r.removeClass("opend"),d.removeClass("animate")):(r.addClass("opend"),d.addClass("animate")),a.stopPropagation(),a.preventDefault()}),r.on("click",function(a){r.hasClass("opend")&&(r.removeClass("opend"),d.removeClass("animate"),a.stopPropagation(),a.preventDefault())});var l=$(".category");l.on("click",function(){var a=$(this).data("categoryid");l.removeClass("active"),1==i[a],$(".pagination a").eq(0).addClass("dis"),$(this).addClass("active"),n(1,a),r.removeClass("opend"),d.removeClass("animate")});var c=$(window).height();$(".main").css("minHeight",c)}])});