define(["./module"],function(controllers){controllers.controller("itemController",["$scope","$sce","$routeParams","getContents",function($scope,$sce,$routeParams,getContents){var item={init:function(){var _this=this,article=atob($routeParams.article),categoryid=$routeParams.categoryID,articleid=$routeParams.articleid;this.section=$('<section class="mod model-3"> <div class="spinner"> </div> </section>'),this.getwenzhang(article,categoryid,articleid),$("#random").on("click",function(){_this.getwenzhang("","003")})},getwenzhang:function(a,c,id){var _this=this,contentsData={article:a,categoryid:c,articleid:id};$("body").prepend(_this.section),getContents.query(contentsData).$promise.then(function(data){console.log(data),_this.section.remove(),$scope.content=data.items,$scope.thisCanBeusedInsideNgBindHtml=$sce.trustAsHtml(data.items.content),document.body.scrollTop=0})}};item.init(),$(window).scroll(function(){var scrollTop=$(this).scrollTop(),scrollHeight=$(document).height(),windowHeight=$(this).height();scrollTop+windowHeight+20>=scrollHeight?$(".goback").hide():$(".goback").show()})}])});